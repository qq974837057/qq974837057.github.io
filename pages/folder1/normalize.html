<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端工程化 | 元气Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/wind.png">
    <meta name="description" content="元气Joe的前端世界">
    
    <link rel="preload" href="/assets/css/0.styles.8a46e3d7.css" as="style"><link rel="preload" href="/assets/js/app.d50c72b0.js" as="script"><link rel="preload" href="/assets/js/2.7285e602.js" as="script"><link rel="preload" href="/assets/js/14.621e82f0.js" as="script"><link rel="prefetch" href="/assets/js/10.95e645d2.js"><link rel="prefetch" href="/assets/js/11.7a5bbaab.js"><link rel="prefetch" href="/assets/js/12.0bd756fe.js"><link rel="prefetch" href="/assets/js/13.c032609a.js"><link rel="prefetch" href="/assets/js/15.2bc7bb03.js"><link rel="prefetch" href="/assets/js/16.7b7424df.js"><link rel="prefetch" href="/assets/js/17.9a2f808e.js"><link rel="prefetch" href="/assets/js/18.2bb036cb.js"><link rel="prefetch" href="/assets/js/19.d8537971.js"><link rel="prefetch" href="/assets/js/20.c8e9e8fe.js"><link rel="prefetch" href="/assets/js/21.efec8fa1.js"><link rel="prefetch" href="/assets/js/22.3385e6bf.js"><link rel="prefetch" href="/assets/js/23.a260f1cf.js"><link rel="prefetch" href="/assets/js/24.69037aca.js"><link rel="prefetch" href="/assets/js/25.ebc4667f.js"><link rel="prefetch" href="/assets/js/26.d355b386.js"><link rel="prefetch" href="/assets/js/27.8c327e12.js"><link rel="prefetch" href="/assets/js/28.98128502.js"><link rel="prefetch" href="/assets/js/29.b35b9692.js"><link rel="prefetch" href="/assets/js/3.efa71162.js"><link rel="prefetch" href="/assets/js/30.d28a8fd7.js"><link rel="prefetch" href="/assets/js/31.2eab1cab.js"><link rel="prefetch" href="/assets/js/32.0acbefde.js"><link rel="prefetch" href="/assets/js/33.35108fd8.js"><link rel="prefetch" href="/assets/js/34.bd1353df.js"><link rel="prefetch" href="/assets/js/4.2ab80d3e.js"><link rel="prefetch" href="/assets/js/5.b6c9c262.js"><link rel="prefetch" href="/assets/js/6.d1cbcbdc.js"><link rel="prefetch" href="/assets/js/7.7f87f0fb.js"><link rel="prefetch" href="/assets/js/8.97df5136.js"><link rel="prefetch" href="/assets/js/9.80311f25.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8a46e3d7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/wind.png" alt="元气Blog" class="logo"> <span class="site-name can-hide">元气Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类" class="mobile-dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/folder1/html.html" class="nav-link">
  文章
</a></li><li class="dropdown-item"><!----> <a href="/pages/folder2/test4.html" class="nav-link">
  随笔
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/qq974837057" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类" class="mobile-dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/folder1/html.html" class="nav-link">
  文章
</a></li><li class="dropdown-item"><!----> <a href="/pages/folder2/test4.html" class="nav-link">
  随笔
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/qq974837057" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/folder1/html.html" class="sidebar-link">HTML</a></li><li><a href="/pages/folder1/css.html" class="sidebar-link">CSS</a></li><li><a href="/pages/folder1/js.html" class="sidebar-link">JS</a></li><li><a href="/pages/folder1/ts.html" class="sidebar-link">TS</a></li><li><a href="/pages/folder1/browser.html" class="sidebar-link">HTTP与浏览器</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/folder1/security.html" class="sidebar-link">前端安全</a></li><li><a href="/pages/folder1/monitor.html" class="sidebar-link">监控体系</a></li><li><a href="/pages/folder1/performance.html" class="sidebar-link">性能优化</a></li><li><a href="/pages/folder1/design-pattern.html" class="sidebar-link">设计模式和架构</a></li><li><a href="/pages/folder1/refactor.html" class="sidebar-link">代码重构之道</a></li><li><a href="/pages/folder1/nodejs.html" class="sidebar-link">node与前沿</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端框架</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/folder1/frame-common.html" class="sidebar-link">框架通识</a></li><li><a href="/pages/folder1/frame.html" class="sidebar-link">框架-Vue</a></li><li><a href="/pages/folder1/react.html" class="sidebar-link">框架-React</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>工程化和协作</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/folder1/webpack.html" class="sidebar-link">Webpack</a></li><li><a href="/pages/folder1/normalize.html" aria-current="page" class="active sidebar-link">前端规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/folder1/normalize.html#前端工程化" class="sidebar-link">前端工程化</a></li><li class="sidebar-sub-header"><a href="/pages/folder1/normalize.html#项目开发流程" class="sidebar-link">项目开发流程</a></li><li class="sidebar-sub-header"><a href="/pages/folder1/normalize.html#项目分支管理" class="sidebar-link">项目分支管理</a></li><li class="sidebar-sub-header"><a href="/pages/folder1/normalize.html#提交规范-git-cz" class="sidebar-link">提交规范(git cz)</a></li><li class="sidebar-sub-header"><a href="/pages/folder1/normalize.html#代码规范-eslint" class="sidebar-link">代码规范(eslint)</a></li><li class="sidebar-sub-header"><a href="/pages/folder1/normalize.html#codereview" class="sidebar-link">CodeReview</a></li><li class="sidebar-sub-header"><a href="/pages/folder1/normalize.html#编码风格-分号" class="sidebar-link">编码风格-分号</a></li></ul></li><li><a href="/pages/folder1/git.html" class="sidebar-link">Git</a></li><li><a href="/pages/folder1/build.html" class="sidebar-link">构建</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>算法与编程</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/folder1/algorithm-data.html" class="sidebar-link">数据结构和算法-概念</a></li><li><a href="/pages/folder1/algorithm-sort.html" class="sidebar-link">数据结构和算法-排序专题</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="前端工程化"><a href="#前端工程化" class="header-anchor">#</a> 前端工程化</h2> <ul><li>模块化
<ul><li>JS 模块化</li> <li>CSS 模块化</li> <li>资源模块化</li></ul></li> <li>组件化
<ul><li>复杂页面按功能拆分成多个独立的组件</li> <li>通用组件</li> <li>业务组件</li></ul></li> <li>规范化：能够自动化工具检查的规范才是好规范
<ul><li>UI 规范</li> <li>接口规范</li> <li>编码规范(eslint)</li> <li>提交规范(commitizen 工具 + cz-conventional-changelog 规范适配器)</li> <li>开发流程(四大阶段、GitFlow 工作流、CodeReview、测试、部署)</li></ul></li></ul> <h2 id="项目开发流程"><a href="#项目开发流程" class="header-anchor">#</a> 项目开发流程</h2> <p>总的来说有四个阶段：需求阶段、开发阶段、测试阶段、发布阶段。正常是一个月一个版本迭代。</p> <ul><li>需求阶段：需求设计，业务方评审，产品组评审，产品/技术正式评审，UI 评审，接口评审，测试用例评审</li> <li>开发阶段：任务拆分，迭代计划，前后端开发，开发联调，增量交付测试</li> <li>测试阶段：全面提测，测试环境测试，技术修复 Bug，UI 验收，集成测试</li> <li>发布阶段：预发布，灰度发布，正式发布，迭代复盘
<img src="/assets/img/development-process-1.28918a0b.png" alt=""></li></ul> <h2 id="项目分支管理"><a href="#项目分支管理" class="header-anchor">#</a> 项目分支管理</h2> <ul><li>基于环境分支
<ul><li>测试、预发布、灰度、master</li> <li>环境之间不可合并代码</li></ul></li> <li>开发流程
<ul><li>基于 master 创建功能分支</li> <li>完成功能后，将功能分支合并并推送到测试、预发分支、阿里云触发构建</li> <li>测试完成，上灰度和正式，通过打 tag 触发构建</li></ul></li> <li>git 命令
<ul><li>基于 master 进行拉取最新代码，<code>git pull</code></li> <li>切换到新功能分支，<code>git checkout -b dev/vX.X.X</code></li> <li>添加到暂存，<code>git add .</code></li> <li>提交代码到本地仓库，<code>git commit -m 'msg'</code></li> <li>推送到远端，<code>git push</code></li></ul></li></ul> <h2 id="提交规范-git-cz"><a href="#提交规范-git-cz" class="header-anchor">#</a> 提交规范(git cz)</h2> <ul><li><a href="https://juejin.im/post/5afc5242f265da0b7f44bee4#heading-4" target="_blank" rel="noopener noreferrer">掘金参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <blockquote><p>commitizen 可使用 git cz + cz-conventional-changelog 规范适配器 + commitlint 校验 + husky</p></blockquote> <ul><li><p>作用：生成规范统一的 commit message，有助于团队成员 review 和项目管理。</p></li> <li><p>最终提交格式：</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt; // 类型 范围 标题

&lt;body&gt; // 内容
</code></pre></div><p><img src="/assets/img/git-commit.9c8726c1.png" alt="git-commit"> <img src="data:image/png;base64,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" alt="git-cz"></p> <blockquote><p>注意：windows 下 git bash 无法使用交互式，可直接在 vscode 中使用终端配置 git bash，方可使用上下箭头移动交互。</p></blockquote> <ul><li><p>安装：</p> <ul><li>全局安装：需要 ~/.czrc 配置文件, 为 commitizen 指定 Adapter.</li></ul> <div class="language- extra-class"><pre class="language-text"><code>npm install -g commitizen cz-conventional-changelog
// 创建配置文件
echo '{ &quot;path&quot;: &quot;cz-conventional-changelog&quot; }' &gt; ~/.czrc
</code></pre></div><ul><li>项目级安装</li></ul> <div class="language- extra-class"><pre class="language-text"><code>npm install -D commitizen cz-conventional-changelog

// package.json
&quot;script&quot;: {
    ...,
    &quot;commit&quot;: &quot;git-cz&quot;,
},
 &quot;config&quot;: {
    &quot;commitizen&quot;: {
      &quot;path&quot;: &quot;node_modules/cz-conventional-changelog&quot;
    }
 }
</code></pre></div><ul><li>安装 commitlint 校验规范： @commitlint/config-conventional (符合 Angular 团队规范) + husky(git hook 钩子) 在 commit 提交后进行 lint 校验.</li></ul> <div class="language- extra-class"><pre class="language-text"><code>npm i -D @commitlint/config-conventional @commitlint/cli husky

// 创建配置文件.commitlintrc.js，与package.json同级
module.exports = {
  extends: [
    &quot;@commitlint/config-conventional&quot;
  ],
  rules: {
  }
};

// package.json
&quot;husky&quot;: {
    &quot;hooks&quot;: {
      &quot;commit-msg&quot;: &quot;commitlint -e $GIT_PARAMS&quot;
    }
}
</code></pre></div></li> <li><p>使用：</p> <div class="language- extra-class"><pre class="language-text"><code>
命令：npm run commit or git cz(全局安装下可使用)

1.Select the type of change that you're committing 选择改动类型 (&lt;type&gt;)

2.What is the scope of this change (e.g. component or file name)? 填写改动范围 (&lt;scope&gt;)

3.Write a short, imperative tense description of the change: 写一个精简的描述 (&lt;subject&gt;)

4.Provide a longer description of the change: (press enter to skip) 对于改动写一段长描述 (&lt;body&gt;)

5.Are there any breaking changes? (y/n) 是破坏性修改吗？默认n (&lt;footer&gt;)

6.Does this change affect any openreve issues? (y/n) 改动修复了哪个问题？默认n (&lt;footer&gt;)

// 生成的最终格式
&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;
&lt;BLANK LINE&gt;
&lt;body&gt;
&lt;BLANK LINE&gt;
&lt;footer&gt;

// 填写完毕后，husky会调用commitlint对message进行格式校验，默认规定type及subject为必填项。
</code></pre></div></li> <li><p>type 必填：当一次改动包括主要 type 与特殊 type 时，统一采用主要 type。</p> <div class="language- extra-class"><pre class="language-text"><code>    # 主要
    feat：新功能
    fix： 修复bug
    # 特殊
    docs: 文档相关
    style： 代码格式：缩进、空格之类
    build： webpack构建工具或外部依赖变动如npm
    refactor：重构
    revert：执行git revert打印的message
</code></pre></div></li> <li><p>scope 必填：改动的范围，格式为项目名/模块名</p> <div class="language- extra-class"><pre class="language-text"><code>node-pc/common rrd-h5/activity
</code></pre></div></li> <li><p>subject: commit 的概述</p></li> <li><p>body：commit 的具体改动情况和原因</p></li> <li><p>break changes：破坏性修改：描述接口删除、迁移等</p></li> <li><p>affect issues: 影响的哪个 issues<code>（re #123、fix #123）</code></p></li></ul> <h2 id="代码规范-eslint"><a href="#代码规范-eslint" class="header-anchor">#</a> 代码规范(eslint)</h2> <ul><li>常用规则：<code>eslint:recommended</code></li> <li>作用：统一代码风格，避免低级错误。常见规则如：分号，引号，禁止 console，禁止条件判断出现常量，禁止 return，break 后面出现不可到达代码等。</li> <li>安装在开发环境</li></ul> <div class="language- extra-class"><pre class="language-text"><code>npm install eslint --save-dev
</code></pre></div><ul><li>创建.eslintrc 文件（在根目录）</li></ul> <div class="language- extra-class"><pre class="language-text"><code>eslint --init
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .eslintrc.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 指定解析器</span>
  parse<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 指定脚本的运行环境</span>
  env<span class="token operator">:</span> <span class="token punctuation">{</span>
    node<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    es6<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 扩展引入规则</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 同时对 .vue 文件中的 js 代码进行检测，就需要利用 eslint-plugin-vue 插件来搭配使用。</span>
    <span class="token string">&quot;plugin:vue/essential&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// 启用推荐的规则</span>
    <span class="token string">&quot;eslint:recommended&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 别人可以直接使用你配置好的ESLint</span>
  root<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// 脚本在执行期间访问的额外的全局变量</span>
  globals<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 启用的规则及其各自的错误级别</span>
  rules<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 禁止使用 console，提醒开发者，上线时要禁止</span>
    <span class="token string">&quot;no-console&quot;</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&quot;production&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;error&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// 禁止 debugger 语句，提醒开发者，上线时要禁止</span>
    <span class="token string">&quot;no-debugger&quot;</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&quot;production&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;error&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 指定解析器选项</span>
  parserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
    parser<span class="token operator">:</span> <span class="token string">&quot;babel-eslint&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>配置文件中引入规则配置</p> <ul><li>extends 扩展了（集成）配置，如 element 的
<ul><li>增加了 eslint-plugin-vue 来更好的校验 vue 中的 js 代码。</li> <li>默认是严格的 plugin:vue/recommended 来校验代码，觉得太严格可修改为 essential。</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev eslint<span class="token operator">-</span>config<span class="token operator">-</span>elemefe

<span class="token string">'extends'</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 同时对 .vue 文件中的 js 代码进行检测，就需要利用 eslint-plugin-vue 插件来搭配使用。</span>
    <span class="token string">'plugin:vue/essential'</span><span class="token punctuation">,</span>
    <span class="token comment">// 启用推荐的规则</span>
    <span class="token string">'eslint:elemefe'</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre></div><ul><li>或者覆盖规则，在 rules 中开启自定义
<ul><li>&quot;semi&quot;分号 和 &quot;quotes&quot;引号 是 ESLint 中 规则 的名称。第一个值是错误级别，可以使下面的值之一：</li> <li>&quot;off&quot; or 0 - 关闭规则</li> <li>&quot;warn&quot; or 1 - 将规则视为一个警告（不会影响退出码）</li> <li>&quot;error&quot; or 2 - 将规则视为一个错误 (退出码为 1)</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;quotes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;double&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>关闭校验</p> <ul><li>vcli3 以下：module.rules 中将 eslint-loader 给注释掉即可。</li> <li>vcli3 以上：只要找到 vue.config.js 文件。 进行如下设置 lintOnSave: false 即可。</li></ul></li> <li><p>使用命令修复简单错误</p> <div class="language- extra-class"><pre class="language-text"><code>npm run lint -- --fix
</code></pre></div></li></ul> <h2 id="codereview"><a href="#codereview" class="header-anchor">#</a> CodeReview</h2> <ul><li><p>整体流程</p> <ul><li>前期宣讲阶段：代码规范、最佳实践进行宣讲</li> <li>提交阶段：对着规范自测一遍，并整理 CodeReview 文档</li> <li>进行阶段：对问题代码进行 TODO 标注，交流最佳实践</li> <li>总结阶段：文档总结沉淀，记录问题，并进行代码整改</li></ul></li> <li><p>常见的代码问题</p> <ul><li>魔鬼数字：应该用有意义的命名常量代替</li> <li>条件嵌套过多：尽早 return、使用键值对 map 优化</li> <li>异常情况没考虑：一些可能为空或者报错的地方，需要 try catch 或者给默认值</li> <li>组件太长：适当粒度拆分</li></ul></li> <li><p>有什么作用</p> <ul><li>专业知识的共享和交流</li> <li>提高代码质量、保证团队代码规范</li> <li>帮助新人成长、提高个人表达能力</li></ul></li> <li><p>主要形式</p> <ul><li>线上：通过 MR 看 commit 的功能点代码。由组长或者资深工程师进行 review，并在对应代码- 下进行评论</li> <li>线下：由主讲人展示，团队成员审核代码。主要有需求背景、设计方案、重要功能模块、- 问答等环节</li></ul></li> <li><p>时间选择</p> <ul><li>MR 之前由资深工程师对提交代码片段进行 review</li> <li>功能开发完成，全面提测之后，线下总结 review 文档，并组织开会讲解</li></ul></li> <li><p>规范宣讲</p> <ul><li>代码规范
<ul><li>禁止使用魔法数字</li> <li>减少重复代码</li> <li>使用全等号</li> <li>组件拆分，避免过长</li></ul></li> <li>最佳实践
<ul><li>边界和异常情况考虑</li> <li>条件判断优化</li> <li>一些按钮的防抖</li></ul></li></ul></li> <li><p>review 要求</p> <ul><li>自测过代码</li> <li>讲重点模块</li> <li>代码片段不要太长</li></ul></li></ul> <h2 id="编码风格-分号"><a href="#编码风格-分号" class="header-anchor">#</a> 编码风格-分号</h2> <blockquote><p>尤大总结：至于说 “很难总结什么时候加不加”，其实真的很简单。真正会导致上下行解析出问题的 token 有 5 个：括号，方括号，正则开头的斜杠，加号，减号。我还从没见过实际代码中用正则、加号、减号作为行首的情况，所以总结下来就是一句话：一行开头是括号或者方括号的时候加上分号就可以了，其他时候全部不需要。其实即使是这两种情况，在实际代码中也颇为少见。</p></blockquote> <ul><li><p>大部分情况下：JS 引擎会自动为我们添加分号，叫自动分号插入(ASI)。</p></li> <li><p>一些特殊场景：JS 判断不需要添加分号，就会导致问题，需要我们注意在特殊情况前面手动添加分号。</p></li> <li><p>总结：如果不想在每句代码后面加分号，需要注意特殊情况如括号，方括号，正则开头的斜杠，加号，减号。在这些地方要手动加上分号。</p></li> <li><p>使用 ESlint --fix 可以自动添加删除分号，风格迁移成本接近 0。</p> <ul><li>配置 semi：
<ul><li>&quot;always&quot; （默认值）在语句结尾处需要分号<div class="language-js extra-class"><pre class="language-js"><code>semi<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>&quot;never&quot; 不允许分号作为语句的末尾（不包括那些为了消除歧义以 [，(，/，+，或 - 开头的语句）<div class="language-js extra-class"><pre class="language-js"><code>semi<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;never&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>也可以用数字表示：0，1，2 分别表示 off, warning, error</li></ul></li></ul></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/pages/folder1/webpack.html" class="prev">
        Webpack
      </a></span> <span class="next"><a href="/pages/folder1/git.html">
        Git
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d50c72b0.js" defer></script><script src="/assets/js/2.7285e602.js" defer></script><script src="/assets/js/14.621e82f0.js" defer></script>
  </body>
</html>
