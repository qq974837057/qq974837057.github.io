(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{317:function(t,s,a){t.exports=a.p+"assets/img/JS-heap-check.ecc0dbfe.png"},318:function(t,s,a){t.exports=a.p+"assets/img/JS-heap-2.70a77d4c.png"},455:function(t,s,a){t.exports=a.p+"assets/img/chrome-devtools-1.7460d001.png"},456:function(t,s,a){t.exports=a.p+"assets/img/Per-timingAPI-1.197f954c.jpg"},457:function(t,s,a){t.exports=a.p+"assets/img/Per-API.61d5a731.jpg"},458:function(t,s,a){t.exports=a.p+"assets/img/performance-lighthouse.9d4e99dc.png"},459:function(t,s,a){t.exports=a.p+"assets/img/performance-fp-fcp.e5369d15.png"},460:function(t,s){t.exports="data:image/png;base64,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"},461:function(t,s,a){t.exports=a.p+"assets/img/Per-SSR&Prerender.a140bc11.png"},462:function(t,s){t.exports="data:image/jpeg;base64,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/wDN/wD/2gAMAwEAAgADAAAAEPNPPPPPPPPOMPPPPPOMvPPPPPOOMssssssMsssssssssPLM8MMMMMMMMP8ALLLLLIjrLLLLLLz333330L3333333335zwAM40w84U8JYoIYMsIEEM0UQkhD3vn3361bjHnXnX3T/wA8AT/bvT6tdCC2XFVACCRVeLjLjV+9K1N+5dtELc67KU/88ACCCCCCxCCRBCCzCCCyCCCCCDC++++++sc+++t++++/84BAAAAAAAAEWMNNNNNgNNNNNNOQ++++++a+++++++++o8888888888888888888888888888888888888888888888//8QAJBEAAgICAQQCAwEAAAAAAAAAAAERYSExECBBUaFQcYGx4cH/2gAIAQMBAT8Q+OfTTRQKBQKBQKBQKBWETJYZAgQIECAiTIECBAgQICpkLhcLhcLhcEt2VsvFwuFwuFwuFwuC4fL0eExtLsShqTbehhDEPIpTQ0aT1xMrv2GlcQ4TnhqUNjieZ4Q9Ma5hgG7Qnak0i4RK0xzW7GkJE2Q9wSIkTM2CIg97n0RmGksbPU2vvRDI3h/UinOxMmiceH+kOaxyHimOP9eRyzXjlhaDIcEZJcoPQ5a0Q8IkNNrh6GbEnVhpFpI2J8fpiGlLzHueEm3CHSad0sjDriSSycZEhJYz/DJqDhSxMbacZc2KDnwS1LxL/gtTR73Po9cKZ784tbYlHU0ISF1pa2MZt9Sk3qQ9zd+iXEdPvcvwnhFDKGUMoZQyhlDKGUMX4HYgQIECBAatkCBAgQIECEQtRai1FqLUWoi/yFqLUWotRai1FqLUWoS27fH/AP/EACoRAAIBAwMEAQQCAwAAAAAAAAABESExYUFxkRBRofEggbHR8MHhMEBQ/9oACAECAQE/EP8ASn/DJJJJJPSSSSSSSSSfg7gkm9T3x7498e+PfHvj3x7498Ob5Urmz/gwODA4MDgwODA4MDgivnRrtkwODA4MDgwODA4MDgpWcDDKP16MgyDIMgyDMFl1VcyDIMgyDIMgyDIMgRTbr5bowqpYQx2kl7CZJpajmvampWiB+bQUJpCdujZClnsJma6jaSlnmVU0JylMTbT6KaamEoxTmshBdRiRkqw2MhCcqULe4qvtr+Rrm0GkBsk1cmCcm4t0VojGNboRo01VEMhkDWSGgm10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"},463:function(t,s,a){t.exports=a.p+"assets/img/performance-render.30ebd7d0.png"},464:function(t,s){t.exports="data:image/png;base64,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"},465:function(t,s,a){t.exports=a.p+"assets/img/chrome-devtools-2.a9def8a2.png"},532:function(t,s,a){"use strict";a.r(s);var n=a(45),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"概要总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#概要总结"}},[t._v("#")]),t._v(" 概要总结")]),t._v(" "),n("h3",{attrs:{id:"加载时"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#加载时"}},[t._v("#")]),t._v(" 加载时")]),t._v(" "),n("ul",[n("li",[t._v("网络和缓存策略\n"),n("ul",[n("li",[t._v("HTTP2 二进制分帧、多路复用、头部压缩、服务器推送")]),t._v(" "),n("li",[t._v("SplitChunksPlugin 拆包配置+缓存策略（不常变动的设置较长缓存时间，第三方大模块单独打包，更新频率高的集中打包）")]),t._v(" "),n("li",[t._v("CDN 配置")])])]),t._v(" "),n("li",[t._v("减少体积\n"),n("ul",[n("li",[t._v("Tree-Shaking（module：false、sideEffect：false）")]),t._v(" "),n("li",[t._v("gzip 压缩（nginx 设置压缩比，也可前端使用插件 compression-webpack-plugin）")])])]),t._v(" "),n("li",[t._v("懒加载\n"),n("ul",[n("li",[t._v("图片懒加载(getBoundingClientRect 检测位置)")]),t._v(" "),n("li",[t._v("路由懒加载")])])]),t._v(" "),n("li",[t._v("图片优化\n"),n("ul",[n("li",[t._v("小 icon 使用 url-loader 转为 base64")]),t._v(" "),n("li",[t._v("适当选择 jpg、png、svg")]),t._v(" "),n("li",[t._v("响应式图片倍数")])])])]),t._v(" "),n("h3",{attrs:{id:"运行时"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#运行时"}},[t._v("#")]),t._v(" 运行时")]),t._v(" "),n("ul",[n("li",[t._v("减少回流重绘\n"),n("ul",[n("li",[t._v("集中改变样式")]),t._v(" "),n("li",[t._v("离线操作 DOM")]),t._v(" "),n("li",[t._v("提升为合成层")])])]),t._v(" "),n("li",[t._v("减少内存泄漏\n"),n("ul",[n("li",[t._v("定时器及时销毁")]),t._v(" "),n("li",[t._v("事件监听正确销毁")]),t._v(" "),n("li",[t._v("DOM 引用使用 WeakMap 保存")])])]),t._v(" "),n("li",[t._v("防抖节流\n"),n("ul",[n("li",[t._v("防抖：按钮提交、输入请求")]),t._v(" "),n("li",[t._v("节流：滚动监听、动画场景")])])]),t._v(" "),n("li",[t._v("大数据\n"),n("ul",[n("li",[t._v("虚拟列表")]),t._v(" "),n("li",[t._v("时间切片")]),t._v(" "),n("li",[t._v("分页 loading")]),t._v(" "),n("li",[t._v("Web worker")]),t._v(" "),n("li",[t._v("diff 优化：加 key")])])])]),t._v(" "),n("h3",{attrs:{id:"指标"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#指标"}},[t._v("#")]),t._v(" 指标")]),t._v(" "),n("ul",[n("li",[t._v("FP 首次绘制")]),t._v(" "),n("li",[t._v("FCP 首次内容绘制")]),t._v(" "),n("li",[t._v("TTI 可交互时间")]),t._v(" "),n("li",[t._v("FPS 帧率")])]),t._v(" "),n("h3",{attrs:{id:"分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分析"}},[t._v("#")]),t._v(" 分析")]),t._v(" "),n("ul",[n("li",[t._v("Chrome DevTools - Lighthouse 面板：性能评分、SEO、FCP、TTI")]),t._v(" "),n("li",[t._v("Chrome DevTools - Performance 面板\n"),n("ul",[n("li",[t._v("Timings：FP、FCP")]),t._v(" "),n("li",[t._v("Main：函数调用栈和执行时间块")]),t._v(" "),n("li",[t._v("Frames：帧率")])])]),t._v(" "),n("li",[t._v("API：window.performance.timing\n"),n("ul",[n("li",[t._v("navigationStart 按下回车瞬间")]),t._v(" "),n("li",[t._v("domInteractive DOM 开始解析（白屏时间）")]),t._v(" "),n("li",[t._v("domContentLoadedEventEnd DOM 解析完成（首屏加载时间）")])])])]),t._v(" "),n("h2",{attrs:{id:"概述"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("前端应用最影响性能的是加载速度，直接影响用户体验。")])]),t._v(" "),n("li",[n("p",[t._v("大部分页面需要 2 秒内完成加载，超过 3 秒，接近 40%的用户离开网站。")])]),t._v(" "),n("li",[n("p",[t._v("所以优化方向就是让用户觉得加载得快！不仅包括加载指标速度的提升，还包括提高用户的体验，如有趣的 loading 或顺畅的骨架屏会让用户感觉并没有等太久。")])]),t._v(" "),n("li",[n("p",[t._v("性能优化方案步骤")]),t._v(" "),n("ul",[n("li",[t._v("1.分析目前性能缺陷，确定性能提升目标")]),t._v(" "),n("li",[t._v("2.针对特定场景，做对应方案，如加载时(首屏)，运行时(动画、内存泄漏、长列表)")]),t._v(" "),n("li",[t._v("3.实施方案，查看优化效果")])])])]),t._v(" "),n("h2",{attrs:{id:"性能指标"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#性能指标"}},[t._v("#")]),t._v(" 性能指标")]),t._v(" "),n("ul",[n("li",[n("p",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/82981365",target:"_blank",rel:"noopener noreferrer"}},[t._v("知乎参考"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[t._v("指标概念")]),t._v(" "),n("ul",[n("li",[t._v("是否发生？FP(首次绘制) - 屏幕首次有视觉变化的时间点")]),t._v(" "),n("li",[t._v("是否发生？FCP(首次内容绘制) - 浏览器第一次向屏幕绘制内容(文本、图片...)")]),t._v(" "),n("li",[t._v("是否有用？FMP(首次有意义绘制) - 页面主要内容出现在屏幕上的时间")]),t._v(" "),n("li",[t._v("是否可用？TTI(可交互时间) - 已渲染完毕，可以响应用户的操作")]),t._v(" "),n("li",[t._v("FPS(每秒帧率) - 每秒钟画面更新次数，大部分屏幕为 60 次/秒")])])]),t._v(" "),n("li",[n("p",[t._v("统计方式")]),t._v(" "),n("ul",[n("li",[t._v("整体\n"),n("ul",[n("li",[t._v("通过 Performance 工具可以用来录制一段时间的 CPU 占用、内存占用、FPS 等运行时性能问题，如 Bottom Up 看出一段时间较耗时的操作。")]),t._v(" "),n("li",[t._v("通过 Network 工具或者代码统计页面的加载时间来分析加载性能问题。")])])]),t._v(" "),n("li",[t._v("手动查看分析："),n("strong",[t._v("Chrome DevTools - Performance")]),t._v(" 面板\n"),n("ul",[n("li",[t._v("Timings:查看 FP、FCP、FMP")]),t._v(" "),n("li",[t._v("CPU:通过下方的 summary 查看占用比例\n"),n("ul",[n("li",[t._v("Loading: 网络通信和 HTML 解析")]),t._v(" "),n("li",[t._v("Scripting: JS 执行")]),t._v(" "),n("li",[t._v("Rendering: 样式计算和布局")]),t._v(" "),n("li",[t._v("Painting: 重绘")]),t._v(" "),n("li",[t._v("System: 其它事件花费的时间")]),t._v(" "),n("li",[t._v("Idle: 空闲时间")]),t._v(" "),n("li",[t._v("Total: 总耗时")])])]),t._v(" "),n("li",[t._v("Main：倒置火焰图，横坐标表示消耗时间，纵坐标为函数调用栈，最上层是父级函数，最下方是调用栈最顶端的函数，可关注哪个函数占据宽度最大，平顶可能表示函数有性能问题。除了函数的耗时，还有 Recalculate Style：样式计算。Layout：布局位置。")]),t._v(" "),n("li",[t._v("Frames:FPS 帧率，水平线越低且持续时间长，同时上方会出现红色线条，代表画面卡顿。")]),t._v(" "),n("li",[t._v("Rendering：勾选 FPS，可查看帧率和 GPU 内存使用情况\n"),n("img",{attrs:{src:a(455),alt:""}})])])]),t._v(" "),n("li",[t._v("代码：使用 API"),n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/PerformanceTiming",target:"_blank",rel:"noopener noreferrer"}},[t._v("window.performance.timing"),n("OutboundLink")],1),t._v("，时间戳单位都是毫秒。\n"),n("img",{attrs:{src:a(456),alt:"timing API1"}}),t._v(" "),n("img",{attrs:{src:a(457),alt:"timing API2"}}),t._v(" "),n("ul",[n("li",[t._v("起始点可选择：navigationStart(在 URL 输入栏回车或者页面按 F5 刷新的时间点) vs fetchStart(准备用 HTTP 请求获取文档的时间，除去重定向)")]),t._v(" "),n("li",[t._v("白屏时间：从用户再按下回车的瞬间 navigationStart 到 解析器完成工作 domInteractive(即能看到第一个内容)")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" t "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("performance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" blankTime "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domInteractive "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navigationStart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 白屏时间")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" firstTime "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domContentLoadedEventEnd "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navigationStart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 首屏加载时间")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" tcpTime "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("connectEnd "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("connectStart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// tcp连接耗时")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" dnsTime "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domainLookupEnd "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domainLookupStart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// dns查询耗时")]),t._v("\n")])])])]),t._v(" "),n("li",[t._v("Lighthouse 网站性能测评工具\n"),n("ul",[n("li",[t._v("运行后会根据实际情况给出对应的评分和建议")]),t._v(" "),n("li",[t._v("有 Performance 页面性能、PWA（渐进式 Web 应用）、Accessibility 可访问性（无障碍）、Best Practices 最佳实践、SEO 的评分")]),t._v(" "),n("li",[t._v("有 FCP 等时间\n"),n("img",{attrs:{src:a(458),alt:"Lighthouse"}})])])])])]),t._v(" "),n("li",[n("p",[t._v("数据上传")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("navigator.sendBeacon(url, data);")]),t._v("通过 HTTP 将少量数据"),n("strong",[t._v("异步传输")]),t._v("到 Web 服务器(不支持 IE)")]),t._v(" "),n("li",[t._v("同步的缺点：导致卸载延时。统计和诊断代码通常要在 unload 或者 beforeunload 事件处理器中发起一个同步 XMLHttpRequest 来发送数据。同步的 XMLHttpRequest 迫使用户代理延迟卸载文档，并使得下一个导航出现的更晚。")]),t._v(" "),n("li",[t._v("异步 sendBeacon 的优点：不会导致延迟。使用 sendBeacon() 方法会使用户代理在有机会时异步地向服务器发送数据，同时不会延迟页面的卸载或影响下一导航的载入性能。这就解决了提交分析数据时的所有的问题：数据可靠，传输异步并且"),n("strong",[t._v("不会影响下一页面的加载")]),t._v("。")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unload"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" logData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("logData")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  navigator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendBeacon")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/log"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" analyticsData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ul",[n("li",[t._v("或者使用"),n("code",[t._v("new Image()")]),t._v("方式自动 get 请求，进行降级上报。")])])]),t._v(" "),n("li",[n("p",[t._v("注意：")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("白屏时间可以通过 FP、FCP 来粗略代替，精确则使用"),n("code",[t._v("window.performance.timing")]),t._v("。")])]),t._v(" "),n("li",[n("p",[t._v("SPA 通过"),n("code",[t._v("window.performance.timing")]),t._v("，只是首次加载的数据。改变 URL 实际不刷新页面，该 API 是无法获取子路由对应的页面相关时间。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// FP")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFPTime")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" timings "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" performance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getEntriesByType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"paint"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" timings "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("round")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("startTime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// FCP")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFCPTime")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" timings "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" performance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getEntriesByType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"paint"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" timings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("round")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timings"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("startTime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// FMP 尚无标准化的定义")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// TTI 谷歌npm包 - tti-polyfill")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// FPS")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不掉帧的情况，requestAnimationFrame 这个方法在一秒内会执行 60 次。")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 假设动画在时间 A 开始执行，在时间 B 结束，耗时 x ms。")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 而中间 requestAnimationFrame 一共执行了 n 次，则此段动画的帧率大致为：n / (B - A)。")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设备信息")]),t._v("\nwindow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navigator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("userAgent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取用户设备信息")]),t._v("\nwindow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navigator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("language"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取用户设备语言")]),t._v("\nwindow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navigator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("connection"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取设备网络信息")]),t._v("\nwindow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("devicePixelRatio"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取设备像素比")]),t._v("\n")])])]),n("p",[n("img",{attrs:{src:a(459),alt:"fp-fcp"}}),t._v(" "),n("img",{attrs:{src:a(460),alt:"用户设备信息"}})])])])]),t._v(" "),n("li",[n("p",[t._v("注意：")]),t._v(" "),n("ul",[n("li",[t._v("FP 和 FCP 可能是相同的时间，也可能是先 FP 后 FCP")]),t._v(" "),n("li",[t._v("帧率能够达到 50 ～ 60 FPS 的动画将会相当流畅，让人倍感舒适；帧率在 30 FPS 以下或者帧率波动很大的动画，让人感觉到明显的卡顿和不适感；")])])]),t._v(" "),n("li",[n("p",[t._v("获取函数执行耗时")]),t._v(" "),n("ul",[n("li",[t._v("只能控制台调试用(不要在生产环境使用)\n"),n("ul",[n("li",[n("code",[t._v("console.time('1');fn();console.timeEnd('1');")])])])]),t._v(" "),n("li",[t._v("获取时间戳，然后相减。\n"),n("ul",[n("li",[n("code",[t._v("Date.now();")]),t._v(" 时间精度为 毫秒（10^-3）级别；")]),t._v(" "),n("li",[n("code",[t._v("new Date().getTime();")])]),t._v(" "),n("li",[n("code",[t._v("+new Date();")])])])]),t._v(" "),n("li",[t._v("更精确的方案\n"),n("ul",[n("li",[t._v("浏览器："),n("code",[t._v("window.performance.now()")]),t._v("获取从"),n("code",[t._v("window.performance.timing.navigationStart")]),t._v("到当前时刻的毫秒数，带小数点。"),n("code",[t._v("performance.timing.navigationStart + performance.now()")]),t._v(" 约等于 "),n("code",[t._v("Date.now()")]),t._v("。")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" t0 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("performance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" t1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("performance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"doSomething函数执行了"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" t0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"毫秒."')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// doSomething函数执行了0.09499990846961737毫秒.")]),t._v("\n")])])]),n("ul",[n("li",[t._v("Node 环境："),n("code",[t._v("process.hrtime.bigint()")]),t._v("，直接通过两个 bigint 相减来计算差异。在 Node.js 程序中，优先选 "),n("code",[t._v("process.hrtime")]),t._v("，其次选 "),n("code",[t._v("performance.now")]),t._v("，最后才会是 "),n("code",[t._v("Date.now")]),t._v("。")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" start "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hrtime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bigint")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 191051479007711n")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" end "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hrtime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bigint")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 191052633396993n")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("基准测试耗时 ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("end "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" start"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v(" 纳秒")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 基准测试耗时 1154389282 纳秒")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])])]),t._v(" "),n("li",[n("p",[t._v("打包后文件体积")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("npm run build -- --report 查看打包后的大小\n")])])]),n("ul",[n("li",[t._v("主要是 vendors 依赖包文件 js 较大，和 app 主代码块较大，下面为某项目举例\n"),n("ul",[n("li",[t._v("stat 原始大小 2.7mb")]),t._v(" "),n("li",[t._v("parsed 压缩插件处理后 1.08mb (40%)")]),t._v(" "),n("li",[t._v("gzip 压缩后 300kb (10%)")])])])])])]),t._v(" "),n("h2",{attrs:{id:"客户端渲染-服务端渲染-预渲染"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#客户端渲染-服务端渲染-预渲染"}},[t._v("#")]),t._v(" 客户端渲染&服务端渲染&预渲染")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("客户端渲染：用户访问 url，请求 html 文件，前端在浏览器跑一遍 JS，生成 DOM，渲染页面。关键链路较长，有一定的白屏时间；")])]),t._v(" "),n("li",[n("p",[t._v("服务端渲染：用户访问 url，服务端根据访问路径请求所需数据，拼接成 html 字符串，将响应返回给前端。前端接收到 html 时已有内容；")])]),t._v(" "),n("li",[n("p",[t._v("预渲染：构建阶段生成匹配预渲染路径的 html 文件（注意：每个需要预渲染的路由都有一个对应的 html）。构建出来的 html 文件已有部分内容。不适合个性化、经常变化的内容使用预渲染。\n"),n("img",{attrs:{src:a(461),alt:"客户端渲染&服务端渲染&预渲染"}})])]),t._v(" "),n("li",[n("p",[t._v("客户端渲染(CSR)")]),t._v(" "),n("ul",[n("li",[t._v("特点：需要跑 JS 生成 DOM，HTML 初始时没具体内容")]),t._v(" "),n("li",[t._v("优点：客户端体验好")]),t._v(" "),n("li",[t._v("缺点：首屏加载慢，不利于 seo(抓取不到通过 Ajax 获取到的内容)")])])]),t._v(" "),n("li",[n("p",[t._v("服务端渲染(SSR)")]),t._v(" "),n("ul",[n("li",[t._v("特点：不需要跑 JS，响应已经返回有内容的 HTML")]),t._v(" "),n("li",[t._v("优点\n"),n("ul",[n("li",[t._v("更好的 SEO：数据已包含在页面，无须异步 Ajax 获取内容，方便爬虫抓取。")]),t._v(" "),n("li",[t._v("首屏加载更快：直接渲染好后返回，无须再下载 js 再渲染。")])])]),t._v(" "),n("li",[t._v("缺点\n"),n("ul",[n("li",[t._v("服务器负载压力大：用户过多，将原本属于服务器的渲染压力分到服务器上，负载太大。")]),t._v(" "),n("li",[t._v("开发条件限制：只支持 beforeCreate 和 created 两个钩子函数，一些外部扩展库需要特殊处理。且服务器需要处于 Node.js 运行环境。")])])]),t._v(" "),n("li",[t._v("原理\n"),n("ul",[n("li",[t._v("将框架的实例转为字符串")]),t._v(" "),n("li",[t._v("将字符串塞入模板里，返回响应给用户")])])])])])]),t._v(" "),n("h2",{attrs:{id:"加载时-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#加载时-2"}},[t._v("#")]),t._v(" 加载时")]),t._v(" "),n("blockquote",[n("p",[t._v("加载时可以以首屏加载速度来做优化")])]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/37148975",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),n("OutboundLink")],1)])]),t._v(" "),n("h3",{attrs:{id:"首屏加载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#首屏加载"}},[t._v("#")]),t._v(" 首屏加载")]),t._v(" "),n("blockquote",[n("p",[t._v("首屏的加载速度很重要,过长的白屏会导致用户流失。\nWEEX 生成的是 JS 渲染成原生组件，此部分不适用")])]),t._v(" "),n("ul",[n("li",[n("p",[t._v("用户体验感知")]),t._v(" "),n("ul",[n("li",[t._v("前置简单 loading：插件 html-webpack-plugin，将 loading 提前到白屏时展示(首屏体积 = html + css)，不需要等 JS 加载，写好 loading 的 html 和 css，在 html 中使用模板插入对应的 loading 变量到根节点。")])]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token doctype"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),n("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token name"}},[t._v("html")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("en"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    <%= htmlWebpackPlugin.options.loading.css %>\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("root"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("<%= htmlWebpackPlugin.options.loading.html %>"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("ul",[n("li",[t._v("骨架屏占位：插件"),n("strong",[t._v("vue-server-renderer")]),t._v("，展示大体结构，视觉过渡流畅。\n"),n("ul",[n("li",[t._v("将 vue 文件转为 html 和 css 字符串，骨架屏的样式通过"),n("code",[t._v("<style></style>")]),t._v("标签直接被插入，而骨架屏的内容也被放置在"),n("code",[t._v("div#app")]),t._v("之间")])])])])]),t._v(" "),n("li",[n("p",[t._v("网络和缓存")]),t._v(" "),n("ul",[n("li",[t._v("HTTP2：二进制分帧、多路复用、头部压缩、服务端推送")]),t._v(" "),n("li",[t._v("CDN 缓存提高资源加载速度")]),t._v(" "),n("li",[t._v("拆包 + 缓存策略：webpack 4.x 对 SplitChunksPlugin 插件进行拆包配置 + 强制缓存和协商缓存，将第三方库分别拆开设置较长的强缓存时间并加上 hash\n"),n("ul",[n("li",[t._v("如基础型的 react 等库与工具性的 lodash 和特定库 Echarts 进行拆分")])])]),t._v(" "),n("li",[t._v("组件的缓存 keep-alive\n"),n("ul",[n("li",[t._v("在页面已经跳转后依然不销毁组件,保存组件的实例在内存中,再次渲染时可以利用缓存的组件实例。")]),t._v(" "),n("li",[t._v("大量实例不销毁,保存在内存中,存在内存泄漏的风险,要调用 deactivated 销毁。")])])])])]),t._v(" "),n("li",[n("p",[t._v("懒加载")]),t._v(" "),n("ul",[n("li",[t._v("图片懒加载（vue-lazyload）原理：进入可视区域再加载图片\n"),n("ul",[n("li",[t._v("使用：src 换成 v-lazy")])]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-lazy")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/static/img/1.png"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])])]),t._v(" "),n("li",[t._v("路由懒加载（不同路由组件分割代码块 chunk，访问该路由才加载对应 js）结合 Vue 的异步组件和 Webpack 的代码分割(Code Splitting)功能"),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("Foo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./Foo.vue"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VueRouter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  routes"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" path"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/foo"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" component"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Foo "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),n("li",[t._v("组件级别懒加载\n"),n("ul",[n("li",[t._v("思路：IntersectionObserver 条件判断是否出现在屏幕(图片懒加载也使用过此 API) + v-if 指令渲染组件 + 骨架屏触发屏幕条件判断(大体灰白结构)")])])])])]),t._v(" "),n("li",[n("p",[t._v("减少体积")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("Tree Shaking：webpack4.x 默认支持，基于 ES6 的 modules，要设置 modules: false 避免转为 commonjs 规范。")])]),t._v(" "),n("li",[n("p",[t._v("gzip 压缩：效果 Content-Encoding：gizp，文件大小降为 30%。服务器 nginx 设置压缩比等 或者 前端安装 compression-webpack-plugin，再配置 productionGzip，构建时生成.gz 文件，服务器就无须再压缩。一般图片不压缩。")]),t._v(" "),n("ul",[n("li",[t._v("nginx")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('// nginx的配置方式\nhttp {\n  gzip on;\n  gzip_static on;\n  gzip_min_length 1024;\n  gzip_buffers 4 16k;\n  gzip_comp_level 2;\n  gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php application/vnd.ms-fontobject font/ttf font/opentype font/x-woff image/svg+xml;\n  gzip_vary off;\n  gzip_disable "MSIE [1-6]\\.";\n}\n')])])]),n("ul",[n("li",[t._v("前端：config/index.js 里有一个 productionGzip 设置为 true，前端进行 gzip 压缩生成.gz 文件。nginx 的 gzip_static 设为 on，就直接使用同名.gz 文件，不用占用服务器 CPU 资源自己压缩。")]),t._v(" "),n("li",[t._v("express：")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("npm i express compression\n\n// serve.js\nvar express = require('express')\nvar app = express()\n\n// 开启gzip压缩,如果你想关闭gzip,注释掉下面两行代码，重新执行`node server.js`\nvar compression = require('compression')\napp.use(compression())\n\napp.use(express.static('dist'))\napp.listen(3000,function () {\n  console.log('server is runing on http://localhost:3000')\n})\n\nnode server.js\n")])])])]),t._v(" "),n("li",[n("p",[t._v("CDN：剥离第三方库依赖（vue、element-ui）放在 cdn 如 jsDelivr，在 html 中通过 script 引入，不会被打包到代码文件 vendor.js 中，减少包的体积，降低自己服务器压力，CDN 提升依赖加载速度。【如 vue、vue-router、vuex、element-ui 和 axios】，使用 CDN 后卸载对应 npm 包【npm uninstall ...】")]),t._v(" "),n("ul",[n("li",[t._v("将依赖的 vue、vue-router、vuex、element-ui 和 axios 这五个库，改为通过 CDN 链接获取。借助 HtmlWebpackPlugin,可以方便的使用循环语法在 index.html 里插入 js 和 css 的 CDN 链接。")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CDN")]),t._v("文件，配置在config"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js下 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// config/index.js")]),t._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  build"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    cdn"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      css"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://unpkg.com/element-ui/lib/theme-chalk/index.css"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      js"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.min.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://cdn.jsdelivr.net/npm/vue-router@3.0.1/dist/vue-router.min.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://cdn.jsdelivr.net/npm/vuex@3.0.1/dist/vuex.min.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://unpkg.com/element-ui/lib/index.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://cdn.jsdelivr.net/npm/axios@0.18.0/dist/axios.min.js"')]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// build/webpack.prod.conf.js")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HtmlWebpackPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("assign")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("build"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cdn\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[t._v("// index.html - 通过模板引入循环插入html\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  <% for (var i in htmlWebpackPlugin.options.css) { %>\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("<%= htmlWebpackPlugin.options.css[i] %>"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n  <% } %>\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  <% for (var i in htmlWebpackPlugin.options.js) { %>\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("<%= htmlWebpackPlugin.options.js[i] %>"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  <% } %>\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("ul",[n("li",[t._v("在 build/webpack.prod.conf.js 中添加如下代码,使用 CDN 引入外部文件的情况下，依然可以在项目中使用 import 的语法来引入这些第三方库，也就意味着你不需要改动项目的代码，这里的键名是 import 的 npm 包名，键值是该库暴露的全局变量。")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// build/webpack.prod.conf.js")]),t._v("\nexternals"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Vue'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue-router'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'VueRouter'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vuex'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Vuex'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'element-ui'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ELEMENT'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'axios'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'axios'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),n("li",[n("p",[t._v("动态加载 ES6 代码：ES6 意味着不用经过 Babel 转译，体积更小，性能更好，"),n("code",[t._v('<script type="module">')]),t._v("这个标签来判断浏览器是否支持 es6。")])])])]),t._v(" "),n("li",[n("p",[t._v("预渲染&服务端渲染")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("预渲染：插件"),n("strong",[t._v("prerender-spa-plugin")]),t._v("，预渲染静态 html 内容，构建过程中，在 dist 目录中开启一个静态服务器，使用无头浏览器（puppeteer）访问对应的路径，执行 JS，捕获内容并输出 html 文件，放在指定路由同名的文件夹，访问时返回对应的已渲染好的 index.html 文件，适合静态内容多的页面（不考虑动态数据的话）。")]),t._v(" "),n("ul",[n("li",[t._v("router 设为 history 模式，然后安装插件")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("npm i prerender-spa-plugin --save-dev\n\n")])])]),n("ul",[n("li",[t._v("添加配置，定义需要预渲染的路由")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  build/webpack.prod.conf.js")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" PrerenderSPAPlugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'prerender-spa-plugin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PrerenderSPAPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  staticDir"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("build"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("assetsRoot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  routes"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/Contacts'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要预渲染的路由（视你的项目而定）")]),t._v("\n  minify"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    collapseBooleanAttributes"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    collapseWhitespace"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    decodeEntities"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    keepClosingSlash"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    sortAttributes"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("ul",[n("li",[t._v("调整 main.js")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 激活静态HTML，使他们成为动态的，可根据后续数据变化调整。")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 强制使用应用程序的激活模式")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  router"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("render")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("h")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("h")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("App"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$mount")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#app"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),n("li",[n("p",[t._v("SSR 服务端渲染(nuxt.js)")])])])]),t._v(" "),n("li",[n("p",[t._v("图片的几种优化方式")]),t._v(" "),n("ul",[n("li",[t._v("选择合适的格式：复杂和色彩层次丰富的用 jpg，线条和颜色简单如 logo 用 png，想要不失真可以用 svg，webp 兼容性不好，不推荐。")]),t._v(" "),n("li",[t._v("小 icon 使用 base64，可直接将字符串解码为图片，不用发 HTTP 请求，webpack 的 url-loader 可以进行配置")]),t._v(" "),n("li",[t._v("图片懒加载")]),t._v(" "),n("li",[t._v("srcset 像素密度描述符对应几倍图"),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("joe_1x.png"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("srcset")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("joe_2x.png 2x, joe_3x.png 3x"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])])])])])]),t._v(" "),n("h4",{attrs:{id:"图片懒加载原理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#图片懒加载原理"}},[t._v("#")]),t._v(" 图片懒加载原理")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("img-area"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("my-photo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("desc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./img/img1.png"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("img-area"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("my-photo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("alt")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("desc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./img/img2.png"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("ul",[n("li",[t._v("原理：\n"),n("ul",[n("li",[n("code",[t._v("<img>")]),t._v("标签的 src 属性先设置为空或者为默认图片的 url，这样图片为空或默认图片。")]),t._v(" "),n("li",[t._v("再设置 data-src 为真实的 url，判断图片进入可视区域，通过 el.dataset 将真实 url 取出")]),t._v(" "),n("li",[t._v("放入 src 属性中，浏览器发出请求，显示正常图片。")])])])]),t._v(" "),n("blockquote",[n("p",[t._v("alt 属性是一个必需的属性，它规定在图像无法显示时的替代文本。")])]),t._v(" "),n("blockquote",[n("p",[t._v("data-* 全局属性：构成一类名称为自定义数据属性的属性，可以通过 HTMLElement.dataset 来访问。")])]),t._v(" "),n("ul",[n("li",[n("p",[t._v("实现方法（2 种）：")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("getBoundingClientRect")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("获取元素大小和位置，针对视口左上角的坐标而言")])]),t._v(" "),n("li",[n("p",[t._v("返回的对象包括 top、right、botton、left、width、height 属性")])]),t._v(" "),n("li",[n("p",[t._v("判断图片已出现在屏幕中：el.getBoundingClientRect().top<=window.clientHeight （图片到可视区域顶部的距离）<=(可视区域的高度)")])]),t._v(" "),n("li",[n("p",[t._v("加载方法是将 src 赋值为真实 url：el.src = el.dataset.src")])]),t._v(" "),n("li",[n("p",[t._v("首次进入页面【window.onload】或者滚动条滚动【window.onscroll】时遍历所有图片，若出现在屏幕内，则加载。")])]),t._v(" "),n("li",[n("p",[t._v("优化：滚动条滚动检查图片采取使用节流函数；滚动时只检查剩余的图片；")])])])]),t._v(" "),n("li",[n("p",[t._v("示例 1：")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isInSight")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bound "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBoundingClientRect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" clientHeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHeight"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//如果只考虑向下滚动加载")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//const clientWidth = window.innerWeight;")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" bound"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" clientHeight "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkImgs")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" imgs "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('".my-photo"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  Array"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isInSight")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadImg")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadImg")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" source "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataset"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" source"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),n("li",[n("p",[t._v("IntersectionObserver")]),t._v(" "),n("ul",[n("li",[t._v("首次进入页面，通过新建 IntersectionObserver 对象 io 并传入 callback 函数，用 io.observe 方法监听每个图片 dom 节点，当比例大于 0 小于 1 时，执行加载图片，加载完毕 io.unobserve 关掉该图片 dom 节点的监听。")]),t._v(" "),n("li",[t._v("callback 函数传入参数为数组，每个元素有自己的 target（dom 节点）和 intersectionRatio（在屏幕中出现比例）")]),t._v(" "),n("li",[t._v("回调函数进行遍历每个元素执行下面操作\n"),n("ul",[n("li",[t._v("判断图片已出现在屏幕中:intersectionRatio > 0 && intersectionRatio <= 1")]),t._v(" "),n("li",[t._v("加载方法是将 src 赋值为真实 url：el.src = el.dataset.src")]),t._v(" "),n("li",[t._v("el.onload 后关闭观察器 io.unobserve(el)。")])])])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" io "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IntersectionObserver")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" option"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nio"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 开始观察")]),t._v("\nio"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("unobserve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 停止观察")]),t._v("\nio"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("disconnect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 关闭观察器")]),t._v("\n")])])]),n("ul",[n("li",[t._v("兼容性\n"),n("ul",[n("li",[t._v("Chrome 51+（发布于 2016-05-25）")]),t._v(" "),n("li",[t._v("Firefox 55")]),t._v(" "),n("li",[t._v("iOS 12.2")])])])])]),t._v(" "),n("li",[n("p",[t._v("示例 2：")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" io "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IntersectionObserver")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ioes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  ioes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ioe")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" el "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ioe"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" intersectionRatio "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ioe"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("intersectionRatio"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("intersectionRatio "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" intersectionRatio "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadImg")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onload "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onerror")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" io"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("unobserve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkImgs")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" imgs "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Array"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('".my-photo"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  imgs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" io"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadImg")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" source "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dataset"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    el"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" source"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])])]),t._v(" "),n("blockquote",[n("p",[t._v("注意：获取 dom 之后要将所有图片 dom 节点转为数组对象才能使用数组遍历方法：Array.from")])]),t._v(" "),n("h2",{attrs:{id:"运行时-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#运行时-2"}},[t._v("#")]),t._v(" 运行时")]),t._v(" "),n("blockquote",[n("p",[t._v("高性能要求的场景，优化代码执行速度，主要分为动画优化、减少回流重绘、减少内存泄漏、长列表优化、多线程运行。")])]),t._v(" "),n("h3",{attrs:{id:"渲染原理介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#渲染原理介绍"}},[t._v("#")]),t._v(" 渲染原理介绍")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("展示总体步骤\n"),n("img",{attrs:{src:a(462),alt:"performance-render1"}})]),t._v(" "),n("ul",[n("li",[t._v("JS 实现动画或新增 DOM -> Style 计算样式 -> Layout 进行布局计算位置 -> Paint 绘制 -> Composite 渲染层合并")])])]),t._v(" "),n("li",[n("p",[t._v("Composite 详细流程\n"),n("img",{attrs:{src:a(463),alt:"performance-render"}})]),t._v(" "),n("ul",[n("li",[t._v("Nodes 到 LayoutObjects(布局对象)\n"),n("ul",[n("li",[t._v("每个 Node 节点都有一个对应的 LayoutObject，保存样式位置信息，构成一个树。")])])]),t._v(" "),n("li",[t._v("LayoutObjects 到 PaintLayers(渲染层)\n"),n("ul",[n("li",[t._v("根据层叠上下文的位置创建新渲染层，也有特殊情况会创建新的渲染层。")])])]),t._v(" "),n("li",[t._v("PaintLayers 到 GraphicsLayers(图形层)\n"),n("ul",[n("li",[t._v("合成层拥有独立的图形层，其他渲染层公用一个图形层。每个图形层会生成位图，交给 GPU 将多个位图合成， 然后展现在屏幕上。")])])]),t._v(" "),n("li",[t._v("层压缩\n"),n("ul",[n("li",[t._v("大量合成层消耗内存，影响性能，所以浏览器会进行自动层压缩，但有些是压缩不了的。")])])])])])]),t._v(" "),n("h3",{attrs:{id:"提升动画性能"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#提升动画性能"}},[t._v("#")]),t._v(" 提升动画性能")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("动画的三种实现方式")]),t._v(" "),n("ul",[n("li",[t._v("CSS3")]),t._v(" "),n("li",[t._v("Canvas + JS")]),t._v(" "),n("li",[t._v("DOM + JS (非常容易引起回流重绘，尽量避免)")])])]),t._v(" "),n("li",[n("p",[t._v("CSS 动画优化")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("原则：")]),t._v(" "),n("ul",[n("li",[t._v("尽量将动画提升为一个独立图层(合成层)，避免动画效果导致重绘影响其他渲染层的元素")]),t._v(" "),n("li",[t._v("尽量利用 GPU 硬件加速(提示为合成层也就会用到硬件加速啦)")]),t._v(" "),n("li",[t._v("尽量避免回流和重绘，除了常规的避免，在合成层上使用 transform 和 opacity 也不会导致回流重绘。")])])]),t._v(" "),n("li",[n("p",[t._v("提升为合成层的较好的两种方式：")]),t._v(" "),n("ul",[n("li",[t._v("CSS 的 will-change 属性。will-change 设置为 opacity、transform、top、left、bottom、right（其中 top、left 等需要设置明确的定位属性，如 relative 等）")])]),t._v(" "),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#target")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("will-change")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" transform"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ul",[n("li",[t._v("如不支持，使用 3D transform 属性强制提升。")])]),t._v(" "),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#target")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("translateZ")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),n("li",[n("p",[t._v("提升为合成层好处")]),t._v(" "),n("ul",[n("li",[t._v("合成层的位图会交给 GPU 合成，速度比 CPU 快")]),t._v(" "),n("li",[t._v("需要重绘时，只重绘自身，不会影响其他层")]),t._v(" "),n("li",[t._v("可以使用 transform 和 opacity 实现动画效果，不会引发回流重绘，在其他渲染层就会。")])])]),t._v(" "),n("li",[n("p",[t._v("查看合成层")]),t._v(" "),n("ul",[n("li",[t._v("简单：DevTools，勾选上 Layer Borders")]),t._v(" "),n("li",[t._v("详细：More Tools，添加 Layers 选项卡")]),t._v(" "),n("li",[t._v("可关注 Composite 渲染层合并的时间来优化合成层的数量。\n"),n("img",{attrs:{src:a(464),alt:"查看合成层"}})])])]),t._v(" "),n("li",[n("p",[t._v("硬件加速原理：")]),t._v(" "),n("ul",[n("li",[t._v("让容器有自己的单独的渲染层，由 GPU 直接处理完成样式或其他的处理。")])])]),t._v(" "),n("li",[n("p",[t._v("硬件加速开启方式")]),t._v(" "),n("ul",[n("li",[t._v("will-change")]),t._v(" "),n("li",[t._v("3D transform")]),t._v(" "),n("li",[t._v("video 元素")]),t._v(" "),n("li",[t._v("backface-visibility 为 hidden 的元素(翻转后背面不可见)")]),t._v(" "),n("li",[t._v("...")])])]),t._v(" "),n("li",[n("p",[t._v("硬件加速优缺点")]),t._v(" "),n("ul",[n("li",[t._v("建议：只在需要的情况下开启，不要滥用")]),t._v(" "),n("li",[t._v("优点：提高渲染速度")]),t._v(" "),n("li",[t._v("缺点：额外内存消耗，耗电量增加")])])])])]),t._v(" "),n("li",[n("p",[t._v("Canvas 动画优化")]),t._v(" "),n("ul",[n("li",[t._v("使用 requestAnimationFrame 替代 setInterval 来做动画循环")]),t._v(" "),n("li",[t._v("使用 web worker 分担主线程压力，解决大量数据计算，大量 DOM 操作的卡顿问题")])])])]),t._v(" "),n("h3",{attrs:{id:"减少回流重绘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#减少回流重绘"}},[t._v("#")]),t._v(" 减少回流重绘")]),t._v(" "),n("ul",[n("li",[t._v("重排（回流）：节点尺寸需要重新计算，重新排列元素，引起局部或整个页面重新渲染")]),t._v(" "),n("li",[t._v("重绘：样式发生变化，更新外观内容")]),t._v(" "),n("li",[t._v("重绘不一定出现重排")]),t._v(" "),n("li",[t._v("重排一定会出现重绘")])]),t._v(" "),n("h4",{attrs:{id:"如何触发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何触发"}},[t._v("#")]),t._v(" 如何触发")]),t._v(" "),n("ul",[n("li",[t._v("改变 DOM 元素的几何属性：width、height、padding、margin、left、top、border")]),t._v(" "),n("li",[t._v("获取即时性属性：offsetTop、offsetLeft、 offsetWidth、offsetHeight、scrollTop、scrollLeft、scrollWidth、scrollHeight、clientTop、clientLeft、clientWidth、clientHeight")]),t._v(" "),n("li",[t._v("增加、删除、更新、移动 DOM 或者 动画")]),t._v(" "),n("li",[t._v("display: none 隐藏一个 DOM 节点 -> 回流和重绘")]),t._v(" "),n("li",[t._v("visibility: hidden 隐藏一个 DOM 节点 -> 重绘")])]),t._v(" "),n("h4",{attrs:{id:"如何优化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何优化"}},[t._v("#")]),t._v(" 如何优化")]),t._v(" "),n("ul",[n("li",[t._v("集中改变样式\n"),n("ul",[n("li",[t._v("改变 class（类名）的方式"),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 判断是否是黑色系样式")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" theme "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" isDark "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dark"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"light"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根据判断来设置不同的class")]),t._v("\nele"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"className"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" theme"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])])]),t._v(" "),n("li",[t._v("离线操作 DOM\n"),n("ul",[n("li",[t._v("DocumentFragment：createDocumentFragment 在 dom 树之外创建游离节点，该节点上批量操作，再插入 dom，一次重排"),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" fragment "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createDocumentFragment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" node "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"p"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  fragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ndocument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fragment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),n("li",[t._v("display:none，从页面移除该元素，再操作完后添加回来"),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" container "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'container'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ncontainer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("display "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'none'")]),t._v("\ncontainer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'100px'")]),t._v("\ncontainer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'200px'")]),t._v("\ncontainer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("border "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'10px solid red'")]),t._v("\ncontainer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("color "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'red'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("（省略了许多类似的后续操作）\ncontainer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("display "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'block'")]),t._v("\n")])])])])])]),t._v(" "),n("li",[t._v("提升至合成层\n"),n("ul",[n("li",[t._v("CSS 的 will-change"),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#target")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("will-change")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" transform"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),n("li",[t._v("重绘时只会影响合成层，不会影响其它层")]),t._v(" "),n("li",[t._v("transform 和 opacity 效果，不会触发 layout 和 paint")])])])]),t._v(" "),n("h3",{attrs:{id:"减少内存泄漏"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#减少内存泄漏"}},[t._v("#")]),t._v(" 减少内存泄漏")]),t._v(" "),n("ul",[n("li",[n("p",[n("a",{attrs:{href:"https://mp.weixin.qq.com/s?__biz=MzUxMzcxMzE5Ng==&mid=2247496779&idx=2&sn=892d968a86ebd083582ae2e28f48ab8f&chksm=f9524108ce25c81e960471a63357cf2bc59971e2a22ca9549f67c5266100474712fcaa208f28&mpshare=1&scene=1&srcid=&sharer_sharetime=1592813500572&sharer_shareid=f72feefcc9c2c137677aa7f49d02e0f4&key=5275bdb85f6fecb5b863a0f4364938b0f20d3068a623c70bb17408602e09ad9840bc8824054c5f5f3e8b5fdacdf41cf6d13413049806b41cdb497e6abe7e48742dabb92c99874d17f7c19bace4019ecd&ascene=1&uin=MjI1NjQ0MTU1&devicetype=Windows+7+x64&version=62090523&lang=zh_CN&exportkey=AZvo2t51y73c8EhAeN7gjAk%3D&pass_ticket=KfXN%2BILZIw36ijjDu%2F7KSM38UJxJ2Cjf8FTYPf6jp%2Fg%3D",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[t._v("价值：保持小内存开销，有利于用户体验；避免因为内存泄漏，导致浏览器奔溃；")])]),t._v(" "),n("li",[n("p",[t._v("内存泄漏往往会发生在使用 Vue 之外的其它进行 "),n("strong",[t._v("DOM 操作")]),t._v("的三方库时。请在适当的时机做必要的组件清理，比如 beforeDestroy 钩子中。")])]),t._v(" "),n("li",[n("p",[t._v("查看内存泄露：")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("Chrome 中的 Performance 面板，可视化查看内存的变化情况，找出异常点。\n"),n("img",{attrs:{src:a(317),alt:"JS-heap-check"}})]),t._v(" "),n("ul",[n("li",[t._v("打开开发者工具，选择 Performance 面板")]),t._v(" "),n("li",[t._v("在顶部勾选 Memory")]),t._v(" "),n("li",[t._v("点击左上角的录制按钮 Record。")]),t._v(" "),n("li",[t._v("在页面上进行各种操作，模拟用户的使用情况。")]),t._v(" "),n("li",[t._v("一段时间后，点击对话框的 stop 按钮，面板上就会显示这段时间的内存占用情况。")]),t._v(" "),n("li",[t._v("关注 JS Heap，看到起点不断增高而没有释放内存，可能出现异常，点击预览图蓝色线增高点，看看执行了什么操作。去对应的函数中排查代码。")])])]),t._v(" "),n("li",[n("p",[t._v("Chrome 中的 Memory 面板，可查看活动的 Javascript 对象（以及 DOM 节点）在内存中的分布\n"),n("img",{attrs:{src:a(318),alt:"JS-heap-2"}})]),t._v(" "),n("ul",[n("li",[t._v("Heap snapshot 堆快照，可截操作前后的内存快照，进行对比分析。")]),t._v(" "),n("li",[t._v("on timeline 时间线，可开始录制操作，执行一段操作，选择内存增大的时间点分析。")])])])])]),t._v(" "),n("li",[n("p",[n("a",{attrs:{href:"https://www.jianshu.com/p/f27b27167125",target:"_blank",rel:"noopener noreferrer"}},[t._v("分析 Chrome 性能调试工具 Timeline 简介"),n("OutboundLink")],1)])])]),t._v(" "),n("blockquote",[n("p",[t._v("下面是可能导致内存泄漏的情况及预防")])]),t._v(" "),n("ul",[n("li",[t._v("滥用全局变量: 如未声明的变量，在函数中滥用 this 指向全局对象，无法被回收\n"),n("ul",[n("li",[t._v('预防：使用严格模式（"use strict"）')])])]),t._v(" "),n("li",[t._v("闭包(返回子函数): 父执行完后，子函数中引用父的变量无法被释放，导致引用的变量被保留。\n"),n("ul",[n("li",[t._v("预防：会用到，但要知道何时创建，保留哪些对象")])])]),t._v(" "),n("li",[t._v("定时器: 未被正确关闭，导致所引用的外部变量无法被释放\n"),n("ul",[n("li",[t._v("预防：必要时销毁定时器如 clearInterval")])])]),t._v(" "),n("li",[t._v("事件监听: 没有正确销毁，如使用监听执行匿名函数，无法使用 removeEventListener() 将其删除"),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"keyup"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hugeString"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("ul",[n("li",[t._v("预防：\n"),n("ul",[n("li",[t._v("将执行函数的引用传递进 removeEventListener，来注销事件监听。")]),t._v(" "),n("li",[t._v("还可以使用 addEventListener() 第三个参数"),n("code",[t._v("{once: true}")]),t._v("，在处理一次事件后，将自动删除侦听器函数。")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hugeString"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ndocument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"keyup"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" listener"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndocument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"keyup"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" listener"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])])]),t._v(" "),n("li",[t._v("DOM 引用: 在全局中对 DOM 节点的直接引用，删除该 DOM 节点，也不会被垃圾回收"),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" div "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"div"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  div"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"detached"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" div"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" detachedDiv "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndocument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("detachedDiv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this will keep referencing the DOM element even after deleteElement() is called")]),t._v("\n")])])]),n("ul",[n("li",[t._v("预防：\n"),n("ul",[n("li",[t._v("使用弱引用 WeakSet 和 WeakMap 保存 DOM 的引用")]),t._v(" "),n("li",[t._v("将对 DOM 的引用移入函数局部作用域，函数使用完，局部变量对 DOM 的引用被销毁。")])])])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" detachedDiv "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// DOM的引用放在函数内")]),t._v("\n    document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("detachedDiv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),n("li",[t._v("React 常见内存泄漏\n"),n("ul",[n("li",[t._v("卸载组件，异步请求未取消")]),t._v(" "),n("li",[t._v("卸载组件，事件监听未取消")]),t._v(" "),n("li",[t._v("卸载组件，定时任务未清除")]),t._v(" "),n("li",[t._v("console.log 打印错误，保持了对 DOM 的引用")])])])]),t._v(" "),n("h3",{attrs:{id:"减少长时间任务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#减少长时间任务"}},[t._v("#")]),t._v(" 减少长时间任务")]),t._v(" "),n("p",[n("img",{attrs:{src:a(465),alt:""}})]),t._v(" "),n("ul",[n("li",[t._v("看看有没有 long task，这上面带红色三角的就是 chrome 认为过长的任务，会在主线程阻塞渲染，先看看为什么长，看一下 js 的堆栈信息，如果有代码运算大的情况先考虑是否有不合理的地方可以优化")]),t._v(" "),n("li",[t._v("再者就是切分任务了，把一个过长的任务切分成多个，解决主线程耗时过长的问题。")])]),t._v(" "),n("h3",{attrs:{id:"节流防抖【参考-js-章节】"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#节流防抖【参考-js-章节】"}},[t._v("#")]),t._v(" 节流防抖【参考 JS 章节】")]),t._v(" "),n("h3",{attrs:{id:"大数据长列表性能"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#大数据长列表性能"}},[t._v("#")]),t._v(" 大数据长列表性能")]),t._v(" "),n("blockquote",[n("p",[t._v("前端渲染大量数据上千行，不允许分页情况下，容易导致卡顿，掉帧现象。")])]),t._v(" "),n("ul",[n("li",[n("p",[t._v("解决方案：")]),t._v(" "),n("ul",[n("li",[t._v("虚拟列表 - 只渲染可视区域的数据")]),t._v(" "),n("li",[t._v("时间分片 - 使用 setTimeout 拆分密集型任务")]),t._v(" "),n("li",[t._v("Web Worker - 与主线程并行的独立线程，通过 onmessage 和 postMessage 接口进行通信，完成大量的数据计算，结果返回主线程，由主线程更新 DOM 元素。")]),t._v(" "),n("li",[t._v("触底请求分页+节流优化滚动(允许分页请求条件下)")])])]),t._v(" "),n("li",[n("p",[t._v("常见场景：")]),t._v(" "),n("ul",[n("li",[t._v("插件关联时：不选择对应品类的话，会展示所有品类的全部版本插件，每个插件可能是几十上百个版本，所有品类最多可上万条版本数据供关联。")])])])]),t._v(" "),n("h4",{attrs:{id:"长列表渲染-虚拟列表-✨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#长列表渲染-虚拟列表-✨"}},[t._v("#")]),t._v(" 长列表渲染-虚拟列表 ✨")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("原因：DOM 元素的创建和渲染时间成本很高,大数据完整渲染列表比较慢。")])]),t._v(" "),n("li",[n("p",[t._v("场景：适用复杂情况的列表 item，如 element-ui 组件")])]),t._v(" "),n("li",[n("p",[t._v("原理：从总数据取一部分数据，只对「可见区域」进行渲染，不可见部分不渲染。")])]),t._v(" "),n("li",[n("p",[t._v("步骤：基于 Vue")])]),t._v(" "),n("li",[n("p",[t._v("item 高度相同同情况下：")]),t._v(" "),n("ul",[n("li",[t._v("创建容器：在容器中创建两块元素，一个是真实可视列表，一个是不可见的元素撑开列表，使用计算属性根据列表数据计算这个不可见元素整个高度，占位让列表滚动条出现。computed:{ contentHeight() { return this.data.length * itemHeight + 'px' } }")]),t._v(" "),n("li",[t._v('监听滚动：scrollTop 表示已滚出屏幕的高度。监听最外的容器滚动：@scroll="handleScroll"')]),t._v(" "),n("li",[t._v("执行更新：计算高度 const scrollTop = this.$el.scrollTop; 再执行下面 update(scrollTop)方法，更新可视区域数据。\n"),n("ul",[n("li",[t._v("计算可视区域放数据的个数 const visibleCount = Math.ceil(this.$el.clientHeight / this.itemHeight);")]),t._v(" "),n("li",[t._v("计算可视区域的起始 item 坐标 start （比如 0）const start = Math.floor(scrollTop / this.itemHeight); 向下取整")]),t._v(" "),n("li",[t._v("计算可视区域的结束 item 坐标 end （比如 10） const end = start + visibleCount;")]),t._v(" "),n("li",[t._v("取出需要显示的数据，并更新渲染 this.visibleData = this.data.slice(start, end);")]),t._v(" "),n("li",[t._v("把可见区域的 top 设置为起始元素在整个列表中的位置，也就是向下滚动 this.$refs.content.style.transform = "),n("code",[t._v("translateY(${ start \\* this.itemHeight }px)")]),t._v(";")])])])])]),t._v(" "),n("li",[n("p",[t._v("item 高度不同（动态高度）情况下："),n("code",[t._v("Element.getBoundingClientRect")]),t._v("返回元素的大小和相对于视口的位置")]),t._v(" "),n("ul",[n("li",[t._v("方案：传入预估高度属性先渲染部分数据，在"),n("strong",[t._v("updated")]),t._v("钩子中，使用"),n("strong",[t._v("getBoundingClientRect")]),t._v("获取每一个节点真实高度和 top 和 bottom，存放在一个列表中维护，并缓存下来，根据和预估高度的差值，进行调整，然后使用偏移量执行向下移动。\n"),n("ul",[n("li",[t._v("定义一个"),n("code",[t._v("props :estimatedItemSize")]),t._v(" 预估高度")]),t._v(" "),n("li",[t._v("定义一个"),n("code",[t._v("this.positions = [ {top:0,bottom:100,height:100} ,{...}]")]),t._v("保存每一项的高度及位置信息")]),t._v(" "),n("li",[t._v("执行初始化，将预估高度保存入 positions 里，里面有高度、top、bottom")]),t._v(" "),n("li",[t._v("列表总高度 contentHeight：最后一项距离列表顶部的位置"),n("code",[t._v("this.positions[this.positions.length - 1].bottom;")])]),t._v(" "),n("li",[t._v("渲染后，"),n("strong",[t._v("获取真实位置并缓存")]),t._v("：在 updated 钩子里，遍历列表 item 的数组，获取每个 node 节点的高度"),n("strong",[t._v("getBoundingClientRect.height")]),t._v("，与预估高度进行对比，如果有差值，进行 bottom 减去这个差值。height 替换为新的 height。更新所有后面的项位置。")]),t._v(" "),n("li",[t._v("屏幕显示的数量 visibleCount："),n("code",[t._v("Math.ceil(this.screenHeight / this.estimatedItemSize);")])]),t._v(" "),n("li",[t._v("查找起始 item：遍历 positions，找到 bottom>scrollTop 的第一项（bottom 是从小到大递增的，这里可用二分法查找优化）")]),t._v(" "),n("li",[t._v("偏移量 offset："),n("code",[t._v("this.offset = this.positions[this.start - 1].bottom")]),t._v("，再执行向下滚动 this.$refs.content.style.transform = "),n("code",[t._v("translateY(${ offset }px)")])]),t._v(" "),n("li",[t._v("查找结束坐标："),n("code",[t._v("this.end = this.start + this.visibleCount")]),t._v(";")])])]),t._v(" "),n("li",[t._v("滚动太快导致白屏的解决方案：\n"),n("ul",[n("li",[t._v("可见区域的上方和下方渲染额外的项目，而不是刚好卡着屏幕能显示的数量。")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("visibleData")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" start "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("start "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("aboveCount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" end "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("end "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("belowCount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_listData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("start"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])])]),t._v(" "),n("h4",{attrs:{id:"长列表渲染-时间切片"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#长列表渲染-时间切片"}},[t._v("#")]),t._v(" 长列表渲染-时间切片")]),t._v(" "),n("ul",[n("li",[t._v("原因：DOM 元素的创建和渲染时间成本很高,大数据完整渲染列表比较慢。")]),t._v(" "),n("li",[t._v("场景：大量简单的 dom")]),t._v(" "),n("li",[t._v("原理：延时加载，setTimeout（回调与系统刷新不一致会有闪屏现象）或 window.requestAnimationFrame 进行分批渲染")]),t._v(" "),n("li",[t._v("window.requestAnimationFrame(回调函数执行与浏览器刷新频率保持一致，通常是每秒 60 次，更优)下次重绘之前继续更新下一帧动画")]),t._v(" "),n("li",[t._v("FPS 表示每秒钟画面更新次数，大多数显示器的刷新频率是 60Hz，相当于每秒钟重绘 60 次，人眼睛有视觉停留效应，间隔时间太短 16.7ms（1000/60 ms）让你以为屏幕的图像是禁止的。 50 ～ 60 FPS 的动画将会相当流畅，帧率在 30 FPS 以下的动画，明显的卡顿和不适感；")]),t._v(" "),n("li",[t._v("实现：")])]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("container"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text/javascript"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}},[n("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ul "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"container"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 总数")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" total "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("50000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 一次插入 20 条")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" once "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 每条记录的索引")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" index "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//循环加载数据")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loop")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("curTotal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("curTotal "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//每页多少条")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" pageCount "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("min")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("curTotal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" once"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestAnimationFrame")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" pageCount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" li "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"li"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        li"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerText "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" index "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('":"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('":"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" total"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        ul"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("li"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加下一批数据")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loop")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("curTotal "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" pageCount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" pageCount"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loop")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("total"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("h3",{attrs:{id:"web-worker-多线程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#web-worker-多线程"}},[t._v("#")]),t._v(" Web Worker 多线程")]),t._v(" "),n("p",[t._v("现代浏览器为 JavaScript 创造的 多线程环境。"),n("strong",[t._v("可以将复杂计算任务分配到 worker 线程并行运行，等 worker 完成计算任务，再将结果返回主线程")]),t._v("，两个线程可 独立运行，互不干扰，可通过自带的 "),n("strong",[t._v("消息机制")]),t._v(" 相互通信，为了节省系统资源，使用完毕记得关闭。")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("基本用法:")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("主线程")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" worker "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Worker")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"work.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 来自网络的js文件")]),t._v("\nworker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("postMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello World"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//主线程传给 Worker 的数据")]),t._v("\nworker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onmessage")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//监听函数，接收子线程发回来的消息")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Received message"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 错误监控")]),t._v("\nworker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("onerror")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ERROR: Line "')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lineno"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" in "')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("filename"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('": "')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nworker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("terminate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//任务完成，关闭")]),t._v("\n")])])])]),t._v(" "),n("li",[n("p",[t._v("Worker 线程(self 代表子线程自身，即子线程的全局对象)")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听message事件")]),t._v("\n    self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("postMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"You said: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// self.postMessage()方法用来向主线程发送消息。")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 示例：")]),t._v("\nself"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cmd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"start"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("postMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"WORKER STARTED: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stop"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("postMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"WORKER STOPPED: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// self.close()用于在 Worker 内部关闭自身。")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("postMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Unknown command: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 加载其他脚本：")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("importScripts")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script1.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script2.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])])]),t._v(" "),n("li",[n("p",[t._v("API\n主线程")])])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("Worker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onerror：指定 error 事件的监听函数。\nWorker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onmessage：指定 message 事件的监听函数，发送过来的数据在Event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data属性中。\nWorker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onmessageerror：指定 messageerror 事件的监听函数。发送的数据无法序列化成字符串时，会触发这个事件。\nWorker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("postMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("：向 Worker 线程发送消息。\nWorker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("terminate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("：立即终止 Worker 线程。\n")])])]),n("p",[t._v("Worker")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name： Worker 的名字。该属性只读，由构造函数指定。\nself"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onmessage：指定message事件的监听函数。\nself"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onmessageerror：指定 messageerror 事件的监听函数。发送的数据无法序列化成字符串时，会触发这个事件。\nself"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("：关闭 Worker 线程。\nself"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("postMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("：向产生这个 Worker 线程发送消息。\nself"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("importScripts")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("：加载 "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JS")]),t._v(" 脚本。\n")])])]),n("ul",[n("li",[t._v("优势：\n"),n("ul",[n("li",[t._v("能够执行处理器密集型的运算而不会阻塞 UI 线程。")])])]),t._v(" "),n("li",[t._v("限制:\n"),n("ul",[n("li",[t._v("同源限制：与主线程的脚本同源")]),t._v(" "),n("li",[t._v("DOM 限制：无法使用 document / window / alert / confirm")]),t._v(" "),n("li",[t._v("文件限制：无法读取本地资源")])])])]),t._v(" "),n("h2",{attrs:{id:"vue-项目优化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue-项目优化"}},[t._v("#")]),t._v(" Vue 项目优化")]),t._v(" "),n("h3",{attrs:{id:"加载时-3"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#加载时-3"}},[t._v("#")]),t._v(" 加载时")]),t._v(" "),n("ul",[n("li",[t._v("预渲染(Prerender)或服务端渲染(SSR)\n"),n("ul",[n("li",[t._v("参考上方")])])])]),t._v(" "),n("h3",{attrs:{id:"运行时-3"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#运行时-3"}},[t._v("#")]),t._v(" 运行时")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("指令场景")]),t._v(" "),n("ul",[n("li",[t._v("v-if(条件渲染)用在条件较少改变的场景，v-show(display 切换)用在频繁切换的场景")]),t._v(" "),n("li",[t._v("v-for 遍历要加 key(提高 diff 速度)，v-for 遍历避免同时使用 v-if(v-for 比 v-if 优先级高，每次都会遍历)")]),t._v(" "),n("li",[t._v("computed 用于进行依赖数值的计算，有缓存。用 watch 用于执行监听数据变化后的回调，可异步。")])])]),t._v(" "),n("li",[n("p",[t._v("Object.freeze()冻结对象")]),t._v(" "),n("ul",[n("li",[t._v("阻止了 Vue 使用数据劫持（用 Object.defineProperty 重写 setter 和 getter）")]),t._v(" "),n("li",[t._v("因为冻结后，不能添加、删除、修改属性值，不能修改可写性、可枚举性等。")]),t._v(" "),n("li",[t._v("适合只是展示的场景，数据不会改变，如大数据表格。")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      users"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("created")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" users "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" axios"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/api/users"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("users "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("freeze")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),n("li",[n("p",[t._v("扁平化接口返回的数据")]),t._v(" "),n("ul",[n("li",[t._v("JSON 数据规范化（normalize），将深层嵌套的 JSON 对象通过定义好的 schema 转变成使用 id 表示的对象，如用户 user 数组集中使用 id 来存放信息，在评论也是写上 id 即可表示是哪个用户评论，快速在 user 数组即可找到这个用户的信息。")])])]),t._v(" "),n("li",[n("p",[t._v("路由懒加载")]),t._v(" "),n("ul",[n("li",[t._v("参考上方")])])]),t._v(" "),n("li",[n("p",[t._v("组件级别懒加载")]),t._v(" "),n("ul",[n("li",[t._v("参考上方")])])]),t._v(" "),n("li",[n("p",[t._v("虚拟列表")]),t._v(" "),n("ul",[n("li",[t._v("参考上方")])])]),t._v(" "),n("li",[n("p",[t._v("启用 Vue 的生产环境模式 【Vue CLI 默认开启】")]),t._v(" "),n("ul",[n("li",[t._v("Vue 源码会根据 process.env.NODE_ENV 决定是否启用生产环境模式，同时构建过程的警告也会被压缩工具去除。")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack4 + 使用mode选项配置production")]),t._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  mode"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"production"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),n("li",[n("p",[t._v("使用单文件组件(.vue)预编译模板 【Vue CLI 默认开启】")]),t._v(" "),n("ul",[n("li",[t._v("写好的代码自动预编译，包含编译好的渲染函数而不是模板字符串。")])])]),t._v(" "),n("li",[n("p",[t._v("提取组件的 CSS 【Vue CLI 默认开启】")]),t._v(" "),n("ul",[n("li",[t._v("单文件组件时，组件内的 CSS 会以 "),n("code",[t._v("<style>")]),t._v(" 标签的方式通过 JavaScript 动态注入，使用插件 extract-text-webpack-plugin + "),n("code",[t._v("vue-loader")]),t._v("将所有组件的 CSS 提取到一个文件中。")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.js")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ExtractTextPlugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"extract-text-webpack-plugin"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// other options...")]),t._v("\n  module"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    rules"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        test"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.vue$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        loader"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue-loader"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        options"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          extractCSS"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  plugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExtractTextPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"style.css"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])]),t._v(" "),n("h2",{attrs:{id:"h5-的优化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#h5-的优化"}},[t._v("#")]),t._v(" H5 的优化")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://juejin.cn/post/6994383328182796295#heading-21",target:"_blank",rel:"noopener noreferrer"}},[t._v("腾讯企鹅辅导 H5 优化"),n("OutboundLink")],1)]),t._v(" "),n("ul",[n("li",[n("p",[t._v("模拟设备")]),t._v(" "),n("ul",[n("li",[t._v("安装 vConsole")]),t._v(" "),n("li",[t._v("Web 端通过 performance 模拟移动端，设置慢倍速， CPU 为 4x slowdown 或 6x slowdown")]),t._v(" "),n("li",[t._v("模拟弱网情况 slow 3g")]),t._v(" "),n("li",[t._v("使用代理 whistle，在手机端跑本地代码，看看优化效果")])])]),t._v(" "),n("li",[n("p",[t._v("分析")]),t._v(" "),n("ul",[n("li",[t._v("查看 FCP 指标和 long task")]),t._v(" "),n("li",[t._v("lighthouse 分析，可以看 TTI 可交互事件，LCP 最大文本块内容展示在页面中的时间")])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);